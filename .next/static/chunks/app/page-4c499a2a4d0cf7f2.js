(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6654:(e,s,t)=>{"use strict";t.d(s,{default:()=>x});var r=t(5155),a=t(2115),l=t(8525),i=t(6132),n=t(6191),d=t(6651),c=t(9068),o=t(5880),m=t(1360);let x=e=>{let{session:s}=e,[t,x]=(0,a.useState)([]),[h,u]=(0,a.useState)(!0),[g,b]=(0,a.useState)(!1),[f,p]=(0,a.useState)(""),[y,j]=(0,a.useState)(""),[N,v]=(0,a.useState)(null),w=(0,l.U)(),k=(0,a.useCallback)(async()=>{try{u(!0);let{data:e,error:s}=await w.from("bookmarks").select("*").order("created_at",{ascending:!1});if(s)throw s;e&&x(e)}catch(e){console.error("Error fetching bookmarks:",e.message)}finally{u(!1)}},[w]);(0,a.useEffect)(()=>{k();let e=w.channel("realtime-bookmarks").on("postgres_changes",{event:"*",schema:"public",table:"bookmarks"},e=>{"INSERT"===e.eventType?x(s=>[e.new,...s]):"DELETE"===e.eventType?x(s=>s.filter(s=>s.id!==e.old.id)):"UPDATE"===e.eventType&&x(s=>s.map(s=>s.id===e.new.id?e.new:s))}).subscribe();return()=>{w.removeChannel(e)}},[k,w]);let C=async e=>{if(e.preventDefault(),!f.trim()||!y.trim())return;let t=y.trim();/^https?:\/\//i.test(t)||(t="https://"+t);try{b(!0),v(null);let e={title:f.trim(),url:t,user_id:s.user.id},{error:r}=await w.from("bookmarks").insert(e);if(r)throw r;p(""),j("")}catch(e){v(e.message)}finally{b(!1)}},A=async e=>{try{let{error:s}=await w.from("bookmarks").delete().eq("id",e);if(s)throw s}catch(e){console.error("Error deleting:",e.message),alert("Failed to delete bookmark")}};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"overflow-hidden rounded-2xl bg-white shadow-sm ring-1 ring-gray-900/5",children:[(0,r.jsx)("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:(0,r.jsx)("h3",{className:"text-base font-semibold leading-6 text-gray-900",children:"Add New Bookmark"})}),(0,r.jsxs)("form",{onSubmit:C,className:"p-6",children:[(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium leading-6 text-gray-900",children:"Title"}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("input",{type:"text",name:"title",id:"title",value:f,onChange:e=>p(e.target.value),placeholder:"My Cool Site",className:"block w-full rounded-md border-0 py-2.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",required:!0})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"url",className:"block text-sm font-medium leading-6 text-gray-900",children:"URL"}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("input",{type:"text",name:"url",id:"url",value:y,onChange:e=>j(e.target.value),placeholder:"example.com",className:"block w-full rounded-md border-0 py-2.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",required:!0})})]})]}),N&&(0,r.jsxs)("div",{className:"mt-4 flex items-center gap-2 rounded-md bg-red-50 p-3 text-sm text-red-600",children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),N]}),(0,r.jsx)("div",{className:"mt-6 flex items-center justify-end",children:(0,r.jsx)("button",{type:"submit",disabled:g,className:"flex items-center justify-center rounded-md bg-blue-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 disabled:opacity-50",children:g?(0,r.jsx)("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.A,{className:"-ml-0.5 mr-2 h-4 w-4"}),"Add Bookmark"]})})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"mb-4 text-lg font-semibold leading-6 text-gray-900",children:"Your Bookmarks"}),h?(0,r.jsx)("div",{className:"flex h-32 items-center justify-center rounded-2xl border border-dashed border-gray-300 bg-gray-50",children:(0,r.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"})}):0===t.length?(0,r.jsxs)("div",{className:"flex h-48 flex-col items-center justify-center rounded-2xl border border-dashed border-gray-300 bg-white text-center",children:[(0,r.jsx)(d.A,{className:"mb-3 h-10 w-10 text-gray-300"}),(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"No bookmarks yet"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new one above."})]}):(0,r.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:t.map(e=>(0,r.jsxs)("div",{className:"group relative flex flex-col justify-between rounded-xl bg-white p-6 shadow-sm transition-shadow hover:shadow-md ring-1 ring-gray-900/5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"mb-4 flex h-10 w-10 items-center justify-center rounded-lg bg-blue-50 text-blue-600 group-hover:bg-blue-600 group-hover:text-white transition-colors",children:(0,r.jsx)(c.A,{className:"h-6 w-6"})}),(0,r.jsx)("h3",{className:"line-clamp-1 text-base font-semibold leading-6 text-gray-900",children:e.title}),(0,r.jsx)("p",{className:"mt-1 line-clamp-1 text-sm text-gray-500 break-all",children:e.url})]}),(0,r.jsxs)("div",{className:"mt-6 flex items-center gap-3",children:[(0,r.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex flex-1 items-center justify-center gap-2 rounded-md bg-gray-50 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100",children:["Visit ",(0,r.jsx)(o.A,{className:"h-3 w-3"})]}),(0,r.jsx)("button",{onClick:()=>A(e.id),className:"flex items-center justify-center rounded-md bg-red-50 px-3 py-2 text-red-600 hover:bg-red-100 transition-colors",title:"Delete bookmark",children:(0,r.jsx)(m.A,{className:"h-4 w-4"})})]})]},e.id))})]})]})}},6927:(e,s,t)=>{Promise.resolve().then(t.bind(t,7476)),Promise.resolve().then(t.bind(t,6654)),Promise.resolve().then(t.bind(t,8248))},7476:(e,s,t)=>{"use strict";t.d(s,{default:()=>d});var r=t(5155),a=t(2115),l=t(8525),i=t(235),n=t(5299);let d=()=>{let[e,s]=(0,a.useState)(!1),t=(0,l.U)(),d=async()=>{try{s(!0);let{error:e}=await t.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/auth/callback")}});if(e)throw e}catch(e){alert(e.error_description||e.message),s(!1)}};return(0,r.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"w-full max-w-md space-y-8 rounded-2xl bg-white p-10 shadow-xl ring-1 ring-gray-900/5",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,r.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-blue-100 text-blue-600",children:(0,r.jsx)(i.A,{className:"h-8 w-8"})}),(0,r.jsx)("h2",{className:"mt-6 text-3xl font-extrabold tracking-tight text-gray-900",children:"Smart Bookmarks"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Securely save and sync your links across devices."})]}),(0,r.jsx)("div",{className:"mt-8 space-y-6",children:(0,r.jsxs)("button",{onClick:d,disabled:e,className:"group relative flex w-full justify-center rounded-lg bg-white px-4 py-3 text-sm font-semibold text-gray-700 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[(0,r.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:e?(0,r.jsx)(n.A,{className:"h-5 w-5 animate-spin text-gray-400"}):(0,r.jsxs)("svg",{className:"h-5 w-5","aria-hidden":"true",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,r.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,r.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),(0,r.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}),e?"Connecting...":"Sign in with Google"]})}),(0,r.jsx)("div",{className:"mt-6 text-center text-xs text-gray-400",children:(0,r.jsx)("p",{children:"Only Google Authentication is supported for security."})})]})})}},8248:(e,s,t)=>{"use strict";t.d(s,{default:()=>c});var r=t(5155);t(2115);var a=t(8525),l=t(235),i=t(508),n=t(4926),d=t(63);let c=e=>{let{session:s,children:t}=e,c=(0,d.useRouter)(),o=(0,a.U)(),m=async()=>{await o.auth.signOut(),c.refresh()},x=s.user.email,h=s.user.user_metadata.avatar_url;return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("nav",{className:"sticky top-0 z-50 border-b border-gray-200 bg-white/80 backdrop-blur-md",children:(0,r.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex h-16 justify-between",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)("div",{className:"flex flex-shrink-0 items-center gap-2",children:[(0,r.jsx)("div",{className:"rounded-lg bg-blue-600 p-1.5 text-white shadow-sm",children:(0,r.jsx)(l.A,{className:"h-5 w-5"})}),(0,r.jsx)("span",{className:"hidden text-xl font-bold text-gray-900 sm:block",children:"SmartMarks"})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 rounded-full bg-gray-50 px-3 py-1.5 ring-1 ring-gray-900/5",children:[h?(0,r.jsx)("img",{className:"h-8 w-8 rounded-full border border-gray-200",src:h,alt:"User Avatar"}):(0,r.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-100 text-blue-600",children:(0,r.jsx)(i.A,{className:"h-5 w-5"})}),(0,r.jsx)("span",{className:"hidden text-sm font-medium text-gray-700 sm:block",children:x})]}),(0,r.jsx)("button",{onClick:m,className:"rounded-full p-2 text-gray-500 hover:bg-gray-100 hover:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-500",title:"Sign out",children:(0,r.jsx)(n.A,{className:"h-5 w-5"})})]})]})})}),(0,r.jsx)("main",{className:"py-10",children:(0,r.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:t})})]})}},8525:(e,s,t)=>{"use strict";t.d(s,{U:()=>a});var r=t(5417);function a(){return(0,r.createBrowserClient)("https://idtuktckaguheryzyesm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlkdHVrdGNrYWd1aGVyeXp5ZXNtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEzNDE4NjUsImV4cCI6MjA4NjkxNzg2NX0.Js3zFKAUmbhCn3UbTDamWBEaLXMKYHbuCZm2h0K6Gyw")}}},e=>{e.O(0,[203,441,255,358],()=>e(e.s=6927)),_N_E=e.O()}]);